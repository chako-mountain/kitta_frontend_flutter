syntax = "proto3";
package tutorial;

option go_package = "./pkg";

message reqcreateUser {
    string uuid = 1;
}

message rescreateUser {
    int64 id = 1;  // AUTO_INCREMENT で生成された id
}

message ReqCreateCutList {
    bool this_is_cut = 1;
    int64 user_id = 2;
    string name = 3;
    string color = 4;
    int64 count = 5;
    int64 limit = 6;
    int64 late_time = 7;   // 例: "2025-01-01 12:00:00"
    int64 late_count = 8;
}

message ReqUpateCutList {
    int64 id = 1;
    bool this_is_cut = 2;
    string name = 3;
    string color = 4;
    int64 count = 5;
    int64 limit = 6;
    int64 late_time = 7;   // 例: "2025-01-01 12:00:00"
    int64 late_count = 8;
}

message ResCreateCutList {
    int64 id = 1;  // AUTO_INCREMENT で生成された id
}

message req_getUserByUuid {
    string uuid = 1;
}

message res_getUserByUuid {
    int64 id = 1;
}

message req_getCutList {
    int64 user_id = 1;
}

message res_getCutList {
    bool this_is_cut = 1;
    int64 id = 2;
    string name = 3;
    string color = 4;
    int64 count = 5;
    int64 limit = 6;
    // int64 late_time = 7;
    int64 late_count = 7;
    string created_at = 8;
    string updated_at = 9;
}

message res_getCutListList {
    repeated res_getCutList cut_lists = 1;
}

message req_getCutHistory {
    int64 list_id = 1;
}

message res_getCutHistory {
    int64 id = 1;
    bool this_is_cut = 2;
    int64 late_time = 3;
    string lists_updated_at = 4;
    string updated_at = 5;
}

service CutListService {
    rpc CreateUser (reqcreateUser) returns (rescreateUser);
    rpc GetUserByUuid (req_getUserByUuid) returns (res_getUserByUuid);
    rpc GetCutList (req_getCutList) returns (stream res_getCutList);
    rpc GetHistory (req_getCutHistory) returns (stream res_getCutHistory);
    rpc CreateCutList(ReqCreateCutList) returns (ResCreateCutList);
}



message req_getEventList {
    int64 user_id = 1;
}

message res_getEventList {
    int64 id = 1;
    string name = 2;
    string color = 3;
    int64 count = 4;
    int64 limit = 5;
    string created_at = 6;
    string updated_at = 7;  
}

message req_getEventHistory {
    int64 user_id = 1;
}

message res_getEventHistory {
    int64 id = 1;
    string updated_at = 2;
}

service EventListService {
    rpc GetUserByUuid (req_getUserByUuid) returns (res_getUserByUuid);
    rpc GetEventList (req_getEventList) returns (stream res_getEventList);
    rpc GetHistory (req_getEventHistory) returns (stream res_getEventHistory);
}